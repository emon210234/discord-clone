<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self'; 
                 script-src 'self'; 
                 style-src 'self' 'unsafe-inline'; 
                 img-src 'self' data:; 
                 connect-src 'self' ws: wss: http://localhost:* http://*:3000;">
  
  <title>My Chat App</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  
  <!-- Connection Panel -->
  <div id="connectionPanel" class="connection-panel">
    <h2>ğŸš€ Connect to Chat</h2>
    <div class="connection-form">
      <input 
        type="text" 
        id="usernameInput" 
        placeholder="Your username..."
        value="User"
      />
      <input 
        type="text" 
        id="serverInput" 
        placeholder="Server address..."
        value="http://localhost:3000"
      />
      <button id="connectBtn">Connect</button>
      <button id="hostServerBtn">Host Server</button>
    </div>
    <div id="connectionStatus"></div>
  </div>

  <!-- Chat Panel (hidden until connected) -->
  <div id="chatPanel" class="app-container" style="display: none;">
    
    <div class="header">
      <h1>ğŸ’¬ My Chat App</h1>
      <div class="header-controls">
        <span id="userCount" class="user-count">0 users</span>
        <button id="disconnectBtn" class="disconnect-btn">Disconnect</button>
        <button id="clearButton" class="clear-btn">ğŸ—‘ï¸ Clear Local</button>
      </div>
    </div>
    
    <div id="messages" class="messages-container">
      <!-- Messages appear here -->
    </div>
    
    <div class="input-container">
      <input 
        type="text" 
        id="messageInput" 
        placeholder="Type a message..."
        autocomplete="off"
        disabled
      />
      <button id="sendButton" disabled>Send</button>
    </div>
    
  </div>
  
  <!-- Load Socket.IO client from LOCAL file -->
  <script src="socket.io.min.js"></script>
  
  <!-- Load our scripts -->
  <script src="chat-client.js"></script>
  <script src="app.js"></script>
</body>
</html>